(this["webpackJsonpreact_redux-list-of-posts"]=this["webpackJsonpreact_redux-list-of-posts"]||[]).push([[0],{25:function(e,t,n){},26:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){"use strict";n.r(t);var c=n(10),a=n.n(c),s=n(3),r=n(16),o=n(7),u=n(5),i=n.n(u),l=n(0),j="https://mate.academy/students-api",d=function(){var e=Object(o.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(j,"/").concat(t));case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function b(){return(b=Object(o.a)(i.a.mark((function e(t,n,c,a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(j,"/comments"),{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify({postId:a,name:t,email:n,body:c})});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n(25);var p=n(6),O="SET_TODOS",m="ADD_POST",f="SET_USER",h="SET_ALL_USERS",x="SET_COMMENT_LIST",_="SET_SELECT_POST",v="SET_SINGLE_SELECT_POST",y="SET_NEED_FOR_UPDATE",N=function(e){return{type:O,payload:e}},S=function(e){return{type:_,payload:e}},E=function(e){return{type:v,payload:e}},T=function(e){return{type:y,payload:e}},P=function(e){return e.posts},w=function(e){return e.currentUserId},C=function(e){return e.allUsers},g=function(e){return e.commentsList},L=function(e){return e.selectedPostId},U=function(e){return e.selectedPost},D=function(e){return e.needToUpdate},I=(n(26),n(1)),k=function(){var e=Object(s.c)(D),t=Object(s.c)(L),n=Object(l.useState)(""),c=Object(p.a)(n,2),a=c[0],r=c[1],o=Object(l.useState)(""),u=Object(p.a)(o,2),i=u[0],j=u[1],d=Object(l.useState)(""),O=Object(p.a)(d,2),m=O[0],f=O[1];return Object(I.jsxs)("form",{className:"NewCommentForm",onSubmit:function(n){n.preventDefault(),null!==t&&function(e,t,n,c){b.apply(this,arguments)}(a,i,m,t),T(!e)},children:[Object(I.jsx)("div",{className:"form-field",children:Object(I.jsx)("input",{type:"text",name:"name",placeholder:"Your name",value:a,className:"NewCommentForm__input",onChange:function(e){r(e.target.value)}})}),Object(I.jsx)("div",{className:"form-field",children:Object(I.jsx)("input",{type:"text",name:"email",placeholder:"Your email",value:i,className:"NewCommentForm__input",onChange:function(e){j(e.target.value)}})}),Object(I.jsx)("div",{className:"form-field",children:Object(I.jsx)("textarea",{name:"body",placeholder:"Type comment here",value:m,className:"NewCommentForm__input",onChange:function(e){f(e.target.value)}})}),Object(I.jsx)("button",{type:"submit",className:"NewCommentForm__submit-button button",children:"Add a comment"})]})},A=(n(28),function(){var e=Object(s.b)(),t=Object(s.c)(g),n=Object(s.c)(L),c=Object(s.c)(U),a=Object(s.c)(D),r=Object(l.useState)(!0),u=Object(p.a)(r,2),b=u[0],O=u[1];return Object(l.useEffect)((function(){var t=function(){var t=Object(o.a)(i.a.mark((function t(){var c,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===n){t.next=9;break}return t.next=3,d("comments?postId=".concat(n));case 3:return c=t.sent,t.next=6,d("posts/".concat(n));case 6:a=t.sent,e({type:x,payload:c}),e(E(a));case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[n,a]),Object(I.jsxs)("div",{className:"PostDetails",children:[Object(I.jsx)("h2",{children:"Post Details"}),null!==c&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("section",{className:"PostDetails__post",children:Object(I.jsx)("p",{children:c.title})}),Object(I.jsx)("button",{type:"button",className:"button",onClick:function(){O(!b)},children:"Hide comments"})]}),b&&Object(I.jsx)("ul",{className:"PostDetails__list",children:t.map((function(t){return Object(I.jsxs)("li",{className:"PostDetails__list-item",children:[Object(I.jsx)("button",{type:"button",className:"PostDetails__remove-button button",onClick:Object(o.a)(i.a.mark((function n(){return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c="comments/".concat(t.id),fetch("".concat(j,"/").concat(c),{method:"DELETE"});case 2:e(T(!a));case 3:case"end":return n.stop()}var c}),n)}))),children:"X"}),Object(I.jsx)("p",{children:t.body})]},t.id)}))}),Object(I.jsx)(k,{})]})}),F=(n(29),function(){var e=Object(s.b)(),t=Object(s.c)(P),n=Object(s.c)(w),c=Object(s.c)(L);return Object(l.useEffect)((function(){var t=function(){var t=Object(o.a)(i.a.mark((function t(){var c,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d("/posts");case 2:c=t.sent,0===n?e(N(c)):(a=c.filter((function(e){return e.userId===n})),e(N(a)));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[n]),Object(I.jsx)("div",{className:"PostList",children:Object(I.jsx)("ul",{className:"PostList__list",children:t.map((function(t){return Object(I.jsxs)("li",{className:"PostList__item",children:[Object(I.jsxs)("div",{children:[Object(I.jsx)("b",{children:"User #".concat(t.userId)}),Object(I.jsxs)("button",{type:"button",className:"PostList__button button",onClick:function(){c!==t.id?e(S(t.id)):e(S(null))},children:[c===t.id&&Object(I.jsx)(I.Fragment,{children:"Close"}),c!==t.id&&Object(I.jsx)(I.Fragment,{children:"Open"})]})]}),t.title]},t.id)}))})})}),J=function(){var e=Object(s.b)(),t=Object(s.c)(C);return Object(l.useEffect)((function(){var t=function(){var t=Object(o.a)(i.a.mark((function t(){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d("/users");case 2:n=t.sent,e({type:h,payload:n});case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[]),Object(I.jsxs)("div",{className:"App",children:[Object(I.jsx)("header",{className:"App__header",children:Object(I.jsxs)("label",{children:["Select a user: \xa0",Object(I.jsxs)("select",{className:"App__user-selector",onChange:function(t){var n;e((n=Number(t.target.value),{type:f,payload:n}))},children:[Object(I.jsx)("option",{value:"0",children:"All users"}),t.map((function(e){return Object(I.jsx)("option",{value:e.id,children:e.name},e.id)}))]})]})}),Object(I.jsxs)("main",{className:"App__main",children:[Object(I.jsx)("div",{className:"App__sidebar",children:Object(I.jsx)(F,{})}),Object(I.jsx)("div",{className:"App__content",children:Object(I.jsx)(A,{})})]})]})},R=n(13),M=n(2),Y=n(15),B={posts:[],selectedPostId:null,currentUserId:0,allUsers:[],commentsList:[],selectedPost:null,needToUpdate:!1},G=Object(Y.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object(M.a)(Object(M.a)({},e),{},{posts:Object(R.a)(t.payload)});case m:return Object(M.a)(Object(M.a)({},e),{},{todos:[].concat(Object(R.a)(e.posts),[t.payload])});case f:return Object(M.a)(Object(M.a)({},e),{},{currentUserId:t.payload});case h:return Object(M.a)(Object(M.a)({},e),{},{allUsers:t.payload});case x:return Object(M.a)(Object(M.a)({},e),{},{commentsList:t.payload});case _:return Object(M.a)(Object(M.a)({},e),{},{selectedPostId:t.payload});case v:return Object(M.a)(Object(M.a)({},e),{},{selectedPost:t.payload});case y:return Object(M.a)(Object(M.a)({},e),{},{needToUpdate:t.payload});default:return e}})),H=function(){return Object(I.jsx)(s.a,{store:G,children:Object(I.jsx)(r.a,{children:Object(I.jsx)(J,{})})})};a.a.render(Object(I.jsx)(H,{}),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.4d2e9f60.chunk.js.map